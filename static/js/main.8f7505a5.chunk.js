(this.webpackJsonpvideos=this.webpackJsonpvideos||[]).push([[0],{150:function(e,t,n){},169:function(e,t,n){},170:function(e,t,n){},173:function(e,t,n){},174:function(e,t,n){},175:function(e,t,n){},176:function(e,t,n){},183:function(e,t,n){"use strict";n.r(t);var c=n(12),a=n(6),s=n.n(a),i=n(59),r=n.n(i),o=n(0),l=n.n(o),u=n(2),d=n(1),j=n(3),b=n(8),h=n(9),p=(n(150),function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(d.a)(this,n);for(var c=arguments.length,a=new Array(c),s=0;s<c;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={term:""},e.onFormSubmit=function(t){t.preventDefault(),e.props.onSubmit(e.state.term)},e}return Object(j.a)(n,[{key:"render",value:function(){var e=this;return Object(c.jsx)("div",{className:"ui segment",children:Object(c.jsx)("form",{className:"ui form",onSubmit:this.onFormSubmit,children:Object(c.jsx)("input",{type:"text",placeholder:"Search",onChange:function(t){return e.setState({term:t.target.value})},value:this.state.term})})})}}]),n}(s.a.Component)),m=n(130),O=n.n(m).a.create({baseURL:"https://www.googleapis.com/youtube/v3",params:{part:"snippet",maxResults:"10",key:"AIzaSyBYCWAAn3jIpVM6B-11KrEERxV7n3VoUtE"}}),f=(n(169),function(e){var t=e.video,n=e.onVideoSelect;return Object(c.jsxs)("div",{className:"item video-item",onClick:function(){return n(t)},children:[Object(c.jsx)("img",{alt:t.snippet.thumbnails.medium.url,className:"ui image",src:t.snippet.thumbnails.medium.url}),Object(c.jsx)("div",{className:"content",children:Object(c.jsx)("div",{className:"header",children:t.snippet.title})})]})}),v=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){var e=this,t=this.props.videos.map((function(t){return Object(c.jsx)(f,{onVideoSelect:e.props.onVideoSelect,video:t},t.id.videoId)}));return Object(c.jsx)("div",{className:"ui relaxed divided list",children:t})}}]),n}(s.a.Component),x=(n(170),function(e){var t=e.video;if(!t)return Object(c.jsx)("div",{children:"Loading"});var n="https://www.youtube.com/embed/".concat(t.id.videoId);return Object(c.jsxs)("div",{className:"video-detail",children:[Object(c.jsx)("div",{className:"ui embed",children:Object(c.jsx)("iframe",{title:"video clip",src:n})}),Object(c.jsxs)("div",{className:"ui segment",children:[Object(c.jsx)("h4",{className:"ui header",children:t.snippet.title}),Object(c.jsx)("p",{children:t.snippet.description})]})]})}),g=(n(131),n(76));n(184),n(171);g.a.initializeApp({apiKey:"AIzaSyB04i-lI68q5XljUF1_yBNyheY_ARyDgpE",authDomain:"cpsc454-d5f61.firebaseapp.com",projectId:"cpsc454-d5f61",storageBucket:"cpsc454-d5f61.appspot.com",messagingSenderId:"290624584817",appId:"1:290624584817:web:c6a44f3c4ac03a90b46fd0",measurementId:"G-CGEPDZLSH5"});var y=g.a.auth(),N=g.a.firestore(),w=new g.a.auth.GoogleAuthProvider;w.setCustomParameters({prompt:"select_account"});var S=function(){return y.signInWithPopup(w)},C=function(){return y.signOut()},k=g.a,A=(n(173),n.p+"static/media/YoutubeIcon.9dce52e4.svg"),D=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(d.a)(this,n);for(var c=arguments.length,a=new Array(c),s=0;s<c;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={user:null},e.componentDidMount=function(){k.auth().onAuthStateChanged((function(t){e.setState({user:t})}))},e}return Object(j.a)(n,[{key:"render",value:function(){return Object(c.jsxs)("div",{className:"navbar",children:[Object(c.jsx)("a",{href:"/",className:"logo",children:Object(c.jsx)("img",{src:A,alt:"youtube-logo",className:"youtube-logo"})}),Object(c.jsx)("div",{className:"search-bar",children:Object(c.jsx)(p,{onSubmit:this.props.onSubmit})}),this.state.user?Object(c.jsxs)("div",{className:"login",children:[Object(c.jsx)("div",{className:"google-login",onClick:C,children:Object(c.jsxs)("a",{href:"#",className:"google btn",children:[Object(c.jsx)("i",{className:"fa fa-google fa-fw"}),"Sign Out"]})}),Object(c.jsxs)("div",{children:["Hello ",this.state.user.displayName]})]}):Object(c.jsx)("div",{className:"google-login",onClick:S,children:Object(c.jsxs)("a",{href:"#",className:"google btn",children:[Object(c.jsx)("i",{className:"fa fa-google fa-fw"}),"Login with Google+"]})})]})}}]),n}(s.a.Component),V=(n(174),n(195)),I=n(196),H=n(75),L=(n(175),n(176),n(197)),B=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={renderedList:null},e.getData=Object(u.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:k.auth().onAuthStateChanged(function(){var t=Object(u.a)(l.a.mark((function t(n){var a,s,i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return t.next=3,N.collection("history").doc(n.uid).get();case 3:a=t.sent,(s=a.data())&&(i=s.videos.map((function(e,t){return Object(c.jsxs)(L.a.Row,{children:[Object(c.jsx)(L.a.Cell,{children:e.title}),Object(c.jsx)(L.a.Cell,{children:e.description}),Object(c.jsx)(L.a.Cell,{children:Object(c.jsx)("img",{src:e.thumbnail,alt:e.description})})]},t)})),e.setState({renderedList:i}));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)}))),e.componentDidMount=Object(u.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getData();case 2:case"end":return t.stop()}}),t)}))),e}return Object(j.a)(n,[{key:"render",value:function(){return Object(c.jsxs)("div",{className:"history-popup-table",children:[Object(c.jsx)("h2",{children:"History"}),Object(c.jsxs)(L.a,{celled:!0,color:"blue",size:"large",children:[Object(c.jsx)(L.a.Header,{children:Object(c.jsxs)(L.a.Row,{children:[Object(c.jsx)(L.a.HeaderCell,{children:"Title"}),Object(c.jsx)(L.a.HeaderCell,{children:"Description"}),Object(c.jsx)(L.a.HeaderCell,{children:"Thumbmail"})]})}),Object(c.jsx)(L.a.Body,{children:this.state.renderedList})]})]})}}]),n}(s.a.Component),E=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(d.a)(this,n);for(var c=arguments.length,a=new Array(c),s=0;s<c;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={open:!1},e}return Object(j.a)(n,[{key:"render",value:function(){var e=this;return Object(c.jsxs)(V.a,{basic:!0,onClose:function(){return e.setState({open:!1})},onOpen:function(){return e.setState({open:!0})},open:this.state.open,size:"large",trigger:Object(c.jsxs)("button",{className:"ui basic button custom-button",children:[Object(c.jsx)("i",{className:"icon history"}),Object(c.jsx)("span",{className:"text",children:"History"})]}),children:[Object(c.jsx)(V.a.Content,{children:Object(c.jsx)("div",{children:Object(c.jsx)(B,{})})}),Object(c.jsx)(V.a.Actions,{children:Object(c.jsxs)(I.a,{color:"green",inverted:!0,onClick:function(){return e.setState({open:!1})},children:[Object(c.jsx)(H.a,{name:"checkmark"})," Done"]})})]})}}]),n}(s.a.Component),P=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){return Object(c.jsx)("div",{className:"left-sidebar",children:Object(c.jsxs)("div",{className:"sidebar-items",children:[Object(c.jsx)("a",{href:"/CPSC-454-Project",className:"item",children:Object(c.jsxs)("button",{className:"ui basic button custom-button",children:[Object(c.jsx)("i",{className:"icon home"}),Object(c.jsx)("span",{className:"text",children:"Home"})]})}),Object(c.jsx)("div",{className:"item",children:Object(c.jsx)(E,{})}),Object(c.jsx)("h3",{children:"-- Server 1 -- "})]})})}}]),n}(s.a.Component),R=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(d.a)(this,n);for(var c=arguments.length,a=new Array(c),s=0;s<c;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={videos:[],selectedVideo:null},e.onTermSubmit=function(){var t=Object(u.a)(l.a.mark((function t(n){var c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.get("search",{params:{q:n}});case 2:c=t.sent,e.setState({videos:c.data.items,selectedVideo:c.data.items[1]});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onVideoSelect=function(t){e.setState({selectedVideo:t}),e.setDatabaseData(t)},e.setDatabaseData=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k.auth().onAuthStateChanged(function(){var e=Object(u.a)(l.a.mark((function e(n){var c,a,s,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=10;break}return e.next=3,N.collection("history").doc(n.uid).get();case 3:return a=e.sent,void 0!==(s=a.data())&&null!==s||(s={videos:[]}),i={title:t.snippet.title,description:t.snippet.description,thumbnail:t.snippet.thumbnails.medium.url},null===(c=s.videos)||void 0===c||c.push(i),e.next=10,N.collection("history").doc(n.uid).set(s).then((function(){console.log("Document successfully written!")})).catch((function(e){console.error("Error writing document: ",e)}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e}return Object(j.a)(n,[{key:"componentDidMount",value:function(){this.onTermSubmit("dog")}},{key:"render",value:function(){return Object(c.jsxs)("div",{className:"app",children:[Object(c.jsx)(D,{onSubmit:this.onTermSubmit}),Object(c.jsx)("div",{className:"ui grid",children:Object(c.jsxs)("div",{className:"ui row",children:[Object(c.jsx)("div",{className:"three wide column",children:Object(c.jsx)(P,{})}),Object(c.jsx)("div",{className:"nine wide column",children:Object(c.jsx)(x,{video:this.state.selectedVideo})}),Object(c.jsx)("div",{className:"four wide column",children:Object(c.jsx)(v,{onVideoSelect:this.onVideoSelect,videos:this.state.videos})})]})})]})}}]),n}(s.a.Component);n(182);r.a.render(Object(c.jsx)(R,{}),document.querySelector("#root"))}},[[183,1,2]]]);
//# sourceMappingURL=main.8f7505a5.chunk.js.map