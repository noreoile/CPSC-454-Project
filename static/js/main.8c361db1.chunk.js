(this.webpackJsonpvideos=this.webpackJsonpvideos||[]).push([[0],{150:function(e,t,n){},169:function(e,t,n){},170:function(e,t,n){},173:function(e,t,n){},174:function(e,t,n){},175:function(e,t,n){},176:function(e,t,n){},183:function(e,t,n){"use strict";n.r(t);var a=n(7),s=n(6),c=n.n(s),i=n(59),r=n.n(i),o=n(0),l=n.n(o),u=n(2),d=n(1),j=n(3),p=n(9),m=n(10),h=(n(150),function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={term:""},e.onFormSubmit=function(t){t.preventDefault(),e.props.onSubmit(e.state.term)},e}return Object(j.a)(n,[{key:"render",value:function(){var e=this;return Object(a.jsx)("div",{className:"ui segment",children:Object(a.jsx)("form",{className:"ui form",onSubmit:this.onFormSubmit,children:Object(a.jsx)("input",{type:"text",placeholder:"Search",onChange:function(t){return e.setState({term:t.target.value})},value:this.state.term})})})}}]),n}(c.a.Component)),b=n(84),v=n.n(b),O=v.a.create({baseURL:"https://www.googleapis.com/youtube/v3",params:{part:"snippet",maxResults:"10",key:"AIzaSyBYCWAAn3jIpVM6B-11KrEERxV7n3VoUtE"}}),f=(n(169),function(e){var t=e.video,n=e.onVideoSelect;return Object(a.jsxs)("div",{className:"item video-item",onClick:function(){return n(t)},children:[Object(a.jsx)("img",{alt:t.snippet.thumbnails.medium.url,className:"ui image",src:t.snippet.thumbnails.medium.url}),Object(a.jsx)("div",{className:"content",children:Object(a.jsx)("div",{className:"header",children:t.snippet.title})})]})}),x=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){var e=this,t=this.props.videos.map((function(t){return Object(a.jsx)(f,{onVideoSelect:e.props.onVideoSelect,video:t},t.id.videoId)}));return Object(a.jsx)("div",{className:"ui relaxed divided list",children:t})}}]),n}(c.a.Component),g=(n(170),function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(d.a)(this,n);for(var s=arguments.length,c=new Array(s),i=0;i<s;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={comments:null},e.fetchComments=Object(u.a)(l.a.mark((function t(){var n,s,c,i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"AIzaSyBYCWAAn3jIpVM6B-11KrEERxV7n3VoUtE",t.next=3,v.a.get("https://www.googleapis.com/youtube/v3/commentThreads",{params:{textFormat:"plainText",part:"snippet",videoId:null===(n=e.props.video)||void 0===n?void 0:n.id.videoId,maxResults:"15",key:"AIzaSyBYCWAAn3jIpVM6B-11KrEERxV7n3VoUtE"}});case 3:c=t.sent,i=null===(s=c.data.items)||void 0===s?void 0:s.map((function(e){return Object(a.jsx)("div",{className:"ui comments",children:Object(a.jsxs)("div",{className:"comment",children:[Object(a.jsx)("a",{className:"avatar",children:Object(a.jsx)("img",{src:e.snippet.topLevelComment.snippet.authorProfileImageUrl})}),Object(a.jsxs)("div",{className:"content",children:[Object(a.jsx)("a",{className:"author",children:e.snippet.topLevelComment.snippet.authorDisplayName}),Object(a.jsx)("div",{className:"metadata",children:Object(a.jsx)("span",{className:"date",children:e.snippet.topLevelComment.snippet.publishedAt})}),Object(a.jsx)("div",{className:"text",children:e.snippet.topLevelComment.snippet.textDisplay}),Object(a.jsx)("div",{className:"actions",children:Object(a.jsx)("a",{className:"reply",children:"Reply"})})]})]})})})),e.setState({comments:i});case 6:case"end":return t.stop()}}),t)}))),e}return Object(j.a)(n,[{key:"componentDidMount",value:function(){this.fetchComments()}},{key:"componentDidUpdate",value:function(e){e!=this.props&&this.fetchComments()}},{key:"render",value:function(){if(!this.props.video)return Object(a.jsx)("div",{children:"Loading"});var e="https://www.youtube.com/embed/".concat(this.props.video.id.videoId);return Object(a.jsxs)("div",{className:"video-detail",children:[Object(a.jsx)("div",{className:"ui embed",children:Object(a.jsx)("iframe",{title:"video clip",src:e})}),Object(a.jsxs)("div",{className:"ui segment",children:[Object(a.jsx)("h4",{className:"ui header",children:this.props.video.snippet.title}),Object(a.jsx)("p",{children:this.props.video.snippet.description})]}),Object(a.jsxs)("div",{className:"ui comments",children:[Object(a.jsx)("h2",{class:"ui dividing header",children:"Comments"}),this.state.comments]})]})}}]),n}(c.a.Component)),y=(n(131),n(76));n(184),n(171);y.a.initializeApp({apiKey:"AIzaSyB04i-lI68q5XljUF1_yBNyheY_ARyDgpE",authDomain:"cpsc454-d5f61.firebaseapp.com",projectId:"cpsc454-d5f61",storageBucket:"cpsc454-d5f61.appspot.com",messagingSenderId:"290624584817",appId:"1:290624584817:web:c6a44f3c4ac03a90b46fd0",measurementId:"G-CGEPDZLSH5"});var N=y.a.auth(),w=y.a.firestore(),C=new y.a.auth.GoogleAuthProvider;C.setCustomParameters({prompt:"select_account"});var S=function(){return N.signInWithPopup(C)},k=function(){return N.signOut()},A=y.a,D=(n(173),n.p+"static/media/YoutubeIcon.9dce52e4.svg"),I=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={user:null},e.componentDidMount=function(){A.auth().onAuthStateChanged((function(t){e.setState({user:t})}))},e}return Object(j.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("div",{className:"navbar",children:[Object(a.jsx)("a",{href:"/",className:"logo",children:Object(a.jsx)("img",{src:D,alt:"youtube-logo",className:"youtube-logo"})}),Object(a.jsx)("div",{className:"search-bar",children:Object(a.jsx)(h,{onSubmit:this.props.onSubmit})}),this.state.user?Object(a.jsxs)("div",{className:"login",children:[Object(a.jsx)("div",{className:"google-login",onClick:k,children:Object(a.jsxs)("a",{href:"#",className:"google btn",children:[Object(a.jsx)("i",{className:"fa fa-google fa-fw"}),"Sign Out"]})}),Object(a.jsxs)("div",{children:["Hello ",this.state.user.displayName]})]}):Object(a.jsx)("div",{className:"google-login",onClick:S,children:Object(a.jsxs)("a",{href:"#",className:"google btn",children:[Object(a.jsx)("i",{className:"fa fa-google fa-fw"}),"Login with Google+"]})})]})}}]),n}(c.a.Component),V=(n(174),n(195)),E=n(196),L=n(75),B=(n(175),n(176),n(197)),R=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(d.a)(this,n);for(var s=arguments.length,c=new Array(s),i=0;i<s;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={renderedList:null},e.getData=Object(u.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:A.auth().onAuthStateChanged(function(){var t=Object(u.a)(l.a.mark((function t(n){var s,c,i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return t.next=3,w.collection("history").doc(n.uid).get();case 3:s=t.sent,(c=s.data())&&(i=c.videos.map((function(e,t){return Object(a.jsxs)(B.a.Row,{children:[Object(a.jsx)(B.a.Cell,{children:e.title}),Object(a.jsx)(B.a.Cell,{children:e.description}),Object(a.jsx)(B.a.Cell,{children:Object(a.jsx)("img",{src:e.thumbnail,alt:e.description})})]},t)})),e.setState({renderedList:i}));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)}))),e.componentDidMount=Object(u.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getData();case 2:case"end":return t.stop()}}),t)}))),e}return Object(j.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("div",{className:"history-popup-table",children:[Object(a.jsx)("h2",{children:"History"}),Object(a.jsxs)(B.a,{celled:!0,color:"blue",size:"large",children:[Object(a.jsx)(B.a.Header,{children:Object(a.jsxs)(B.a.Row,{children:[Object(a.jsx)(B.a.HeaderCell,{children:"Title"}),Object(a.jsx)(B.a.HeaderCell,{children:"Description"}),Object(a.jsx)(B.a.HeaderCell,{children:"Thumbmail"})]})}),Object(a.jsx)(B.a.Body,{children:this.state.renderedList})]})]})}}]),n}(c.a.Component),H=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={open:!1},e}return Object(j.a)(n,[{key:"render",value:function(){var e=this;return Object(a.jsxs)(V.a,{basic:!0,onClose:function(){return e.setState({open:!1})},onOpen:function(){return e.setState({open:!0})},open:this.state.open,size:"large",trigger:Object(a.jsxs)("button",{className:"ui basic button custom-button",children:[Object(a.jsx)("i",{className:"icon history"}),Object(a.jsx)("span",{className:"text",children:"History"})]}),children:[Object(a.jsx)(V.a.Content,{children:Object(a.jsx)("div",{children:Object(a.jsx)(R,{})})}),Object(a.jsx)(V.a.Actions,{children:Object(a.jsxs)(E.a,{color:"green",inverted:!0,onClick:function(){return e.setState({open:!1})},children:[Object(a.jsx)(L.a,{name:"checkmark"})," Done"]})})]})}}]),n}(c.a.Component),z=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){return Object(a.jsx)("div",{className:"left-sidebar",children:Object(a.jsxs)("div",{className:"sidebar-items",children:[Object(a.jsx)("a",{href:"/",className:"item",children:Object(a.jsxs)("button",{className:"ui basic button custom-button",children:[Object(a.jsx)("i",{className:"icon home"}),Object(a.jsx)("span",{className:"text",children:"Home"})]})}),Object(a.jsx)("div",{className:"item",children:Object(a.jsx)(H,{})})]})})}}]),n}(c.a.Component),M=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={videos:[],selectedVideo:null},e.onTermSubmit=function(){var t=Object(u.a)(l.a.mark((function t(n){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.get("search",{params:{q:n}});case 2:a=t.sent,e.setState({videos:a.data.items,selectedVideo:a.data.items[1]});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onVideoSelect=function(t){e.setState({selectedVideo:t}),e.setDatabaseData(t)},e.setDatabaseData=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:A.auth().onAuthStateChanged(function(){var e=Object(u.a)(l.a.mark((function e(n){var a,s,c,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=10;break}return e.next=3,w.collection("history").doc(n.uid).get();case 3:return s=e.sent,void 0!==(c=s.data())&&null!==c||(c={videos:[]}),i={title:t.snippet.title,description:t.snippet.description,thumbnail:t.snippet.thumbnails.medium.url},null===(a=c.videos)||void 0===a||a.push(i),e.next=10,w.collection("history").doc(n.uid).set(c).then((function(){console.log("Document successfully written!")})).catch((function(e){console.error("Error writing document: ",e)}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e}return Object(j.a)(n,[{key:"componentDidMount",value:function(){this.onTermSubmit("dog")}},{key:"render",value:function(){return Object(a.jsxs)("div",{className:"app",children:[Object(a.jsx)(I,{onSubmit:this.onTermSubmit}),Object(a.jsx)("div",{className:"ui grid",children:Object(a.jsxs)("div",{className:"ui row",children:[Object(a.jsx)("div",{className:"three wide column",children:Object(a.jsx)(z,{})}),Object(a.jsx)("div",{className:"nine wide column",children:Object(a.jsx)(g,{video:this.state.selectedVideo})}),Object(a.jsx)("div",{className:"four wide column",children:Object(a.jsx)(x,{onVideoSelect:this.onVideoSelect,videos:this.state.videos})})]})})]})}}]),n}(c.a.Component);n(182);r.a.render(Object(a.jsx)(M,{}),document.querySelector("#root"))}},[[183,1,2]]]);
//# sourceMappingURL=main.8c361db1.chunk.js.map